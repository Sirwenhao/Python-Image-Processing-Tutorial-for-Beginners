### Chapter06形态学图像处理

形态学处理是一组与图像中特征的形状或形态相关的非线性操作集合，尤其适用于对二值图像的操作。常用的形态学运算包括：二值图像的腐蚀和膨胀、开运算和闭运算、骨架化、形态学边缘检测等。本章节中主要包含三个部分的形态学操作模块：

- 基于scikit-image形态学模块的形态学图像处理
- 基于scikit-image filter.rank模块的形态学图像处理
- 基于scipy.ndimage.morphology模块的形态学图像处理

##### 基于`scikit-image`形态学模块的形态学图像处理

- 对二值图像的操作

  - 腐蚀：缩小前景对象大小，平滑边界，删除图形和小的对象
  - 膨胀：扩展前景大小，平滑对象边界，并闭合二值图像中的孔和缝隙
  - 开运算和闭运算：开运算，表示为先腐蚀后膨胀，从二值图像中删除小对象。闭运算，表示为先膨胀后腐蚀，从二值图像中删除小洞。两者为对偶运算。
  - 骨架化：用翔太学习化操作将二值图像中的每个连接组件简化为单个像素宽的骨架
  - 凸包计算：由输入图像中保卫所有前景的最小凸多边形定义(白色像素)
  - 删除小对象：删除小于指定阈值的元素
  - 白顶帽计算与黑顶帽计算：白顶帽(white top-hat)计算比结构元素更小的亮点，定义为原始图像与其形态学开运算的差值。黑顶帽(black top-hat)计算比结构元素更小的黑点，定义为原始图像于其形态学闭运算的差值图像
  - 提取边界：腐蚀运算，可以用来提取二值图像的边界，通过从二值图像中减去腐蚀图像实现

- 开闭运算实现指纹图像清洗：开运算和闭运算可以实现顺序的从二值图像中进行去噪

- 灰度级操作：灰度腐蚀、灰度膨胀

##### 基于`scikit-image filter.rank`模块的形态学图像处理

- 形态学对比度增强：形态学对比度增强，通过考虑其邻域内周边元素对中心像素的影响，使用邻域内的局部最小或局部最大的像素替换中心像素，取决于中心像素最接近于哪个像素值

- 使用中值滤波去噪

- 局部熵计算：熵是图像中不确定性或随机性的度量，其数学定义为：
  $$
  H=-\sum_{i=0}^{255}p_ilog_2p_i
  $$
  其中$p_i$是与灰度级i相关的概率，由图像的归一化直方图得到，这个公式适用于计算图像的全局熵。`skimage.rank.entropy()`函数可用于计算已知结构元素上的图像的局部熵（编码局部灰度级分布所需要的最小比特数）

##### 基于`SciPy ndimage.morphology`模块的形态学图像处理

- `binary_fill_holes()`函数填补二值图像中的空洞
- 采用灰度级的开闭运算去除图像中的椒盐噪声
- 计算形态学Beucher梯度：形态学Beuchter梯度定义为输入灰度图像的膨胀运算与腐蚀运算的差值图像